{"pageProps":{"content":"# Static site generation in Nextjs using getStaticProps() function\n<p className=\"date\">Published June 4, 2020</p>\n\n![banner image](main.png)\n\n## Contents\n\n- [What is static site generation?](#what-is-static-site-generation)\n- [Using the `getStaticProps()` function](#using-the-getstaticprops)\n\n## <a name=\"what-is-static-site-generation\"></a> What is static site generation?\n\nJust like the word static, it means not changing. üßò‚Äç‚ôÇÔ∏è\n\nBenefits include:\n\n- Better SEO üï∂\n- Performance üöÄ\n- Can be hosted in CDN üåç\n- Doesn't need to have JavaScript to run (mostly HTML) ‚öôÔ∏è\n- Very fewer things to parse from server to client üå¨\n\nSo why do we need a static site?\n\nLet's take an example of a landing page for a company, a landing page doesn't need any type of dynamic content such as pulling data from different API's and showing it according to their users.\n\nA user who accesses a landing page of a company needs to see what that company is about, its main feature, achievements, etc, which are all static things.\n\nThe second example is this blog, this blog is statically generated from markdown files. Its main purpose is to provide information to you. It doesn't change or pull data from different APIs.\n\nDynamic sites include websites like Facebook, Twitter, etc, which changes content according to their users.\n\nSo let's dive in! üèä‚Äç‚ôÄÔ∏è\n\n## Static site generation in nextjs\n\nTo make better use of Static site generation in Nextjs, let's understand `getStaticProps()` function.\n\n### <a name=\"using-the-getstaticprops\"></a> Using the `getStaticProps()` function:\n\nThis function is added to a Nextjs `page` so that it fetches data at build time.\n\nFirst of all, let's make a simple Nextjs page called `todos.js` inside our `pages` folder.\n\n```javascript\n// Todos.js Page\nconst Todos = () => {\n  return <h1>Todos</h1>;\n};\n\nexport default Todos;\n```\n\nlet's add the `getStaticProps()` function.\n\n```javascript\nconst Todos = () => {\n  return <h1>Todos</h1>;\n};\n\nexport default Todos;\n\n// add getStaticProps() function\nexport async function getStaticProps() {}\n```\n\nThe `getStaticProps()` function gives props needed for the component `Todos` to render things when Nextjs builds the page.\n\nNote that we added the `async` keyword, this is needed so that Nextjs knows to prerender our `Todos` page at build time.\n\nlet's write some code inside the `getStaticProps()` function.\n\n```javascript\nconst Todos = () => {\n\n.\n.\n.\n\n// add getStaticProps() function\nexport async function getStaticProps(){\n\n    // Get todo list from an API\n    // or from anything like a JSON file etc.\n    const todos = await fetch('https://.../todos');\n\n    return {\n        props: {\n            todos\n        }\n    }\n}\n```\n\n- We can get our todo list data from an API endpoint or anything like JSON file etc.\n- We should return the `todos` array within the `props` object like this\n\n```javascript\nreturn {\n  props: {\n    todos,\n  },\n};\n```\n\nNow let's complete our `Todos` render code.\n\n```javascript\nconst Todos = ({ todos }) => {\n  // render code\n  return (\n    <div>\n      <h1>Todos</h1>\n      <ul>\n        {todos.length > 0 ? todos.map((todo) => <li>{todo}</li>) : \"No todos\"}\n      </ul>\n    </div>\n  );\n};\n\nexport default Todos;\n\n// add getStaticProps() function\nexport async function getStaticProps() {\n  // Get todo list from an API\n  const todos = await fetch(\"https://.../todos\");\n\n  return {\n    props: {\n      todos,\n    },\n  };\n}\n```\n\nLet's break down our render logic.\n\n```javascript\n// render code\nreturn (\n  <div>\n    <h1>Todos</h1>\n    <ul>\n      {todos.length > 0 ? todos.map((todo) => <li>{todo}</li>) : \"No todos\"}\n    </ul>\n  </div>\n);\n```\n\nWe are just mapping over our `todos` array we received as a `prop` and rendering each `todo` from the array inside an unordered list using the `map()` function in JavaScript.\n\nThe `todos` prop is returned from `getStaticProps()` function.\n\nNow if you inspect element your webpage, you can see this:\n\n![Static site generation](static.png \"Static site generation\")\n\nWonderful! You just made your page static ü§ì.\n\nThis helps in SEO.\n\n### Feel free to share if you found this useful üòÉ.\n","frontMatter":{"title":"Static site generation in Nextjs using getStaticProps() function","description":"Simple explanation on how to use getStaticProps() function in nextjs.","keywords":"next js get static props,javascript,reactjs,nextjs,getStaticProps()","category":"Nextjs","author":"MELVIN GEORGE","date":"June 4, 2020","link":"static-site-generation-nextjs"}},"__N_SSG":true}