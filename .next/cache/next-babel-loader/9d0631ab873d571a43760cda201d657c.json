{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { useContext } from \"react\";\nimport dynamic from \"next/dynamic\";\nconst Card = dynamic(() => import(\"../components/BlogPage/Card\"), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"../components/BlogPage/Card\")],\n    modules: [\"../components/BlogPage/Card\"]\n  }\n});\nimport { SetActiveTabContext } from \"../context/ActiveTab\";\nimport { NextSeo } from \"next-seo\";\nimport Navigation from \"../components/Navigation/Navigation\";\n\nconst Blog = ({\n  linksData\n}) => {\n  // Set active tab to blog page\n  const dispatchActiveTab = useContext(SetActiveTabContext);\n  dispatchActiveTab({\n    type: \"blog\"\n  });\n  return __jsx(React.Fragment, null, __jsx(NextSeo, {\n    title: \"Blog\",\n    canonical: \"https://melvingeorge.me/blog\"\n  }), __jsx(Navigation, null), __jsx(\"main\", {\n    className: \"mt-16 mx-auto flex flex-wrap justify-center max-w-6xl\"\n  }, linksData.length > 0 ? linksData.map(linkData => __jsx(Card, _extends({\n    key: linkData.href\n  }, linkData))) : __jsx(\"p\", null, \"It's empty here\")));\n};\n\nexport async function getStaticProps() {\n  const fs = require(\"fs\");\n\n  const path = require(\"path\");\n\n  const matter = require(\"gray-matter\");\n\n  const filesString = fs.readdirSync(path.join(\"content\", \"posts/\")).toString();\n  const linksArray = filesString.split(\",\");\n  const linksData = linksArray.map(link => {\n    const post = fs.readFileSync(path.join(\"content\", \"posts/\", link)).toString();\n    const {\n      data\n    } = matter(post);\n    const title = data.title;\n    const href = link.replace(\".mdx\", \"\");\n    const description = data.description;\n    const date = data.date;\n    return {\n      title,\n      href,\n      description,\n      date\n    };\n  }); // Sort using date added\n\n  linksData.sort((firstFile, secondFile) => {\n    return new Date(secondFile.date) - new Date(firstFile.date);\n  }); // Delete unnecessary date property\n\n  linksData.map(link => {\n    delete link.date;\n    return link;\n  });\n  return {\n    props: {\n      linksData\n    }\n  };\n}\nexport default Blog;","map":null,"metadata":{},"sourceType":"module"}