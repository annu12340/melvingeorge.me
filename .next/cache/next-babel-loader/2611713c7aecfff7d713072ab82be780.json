{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/melvingeorge/PROJECTS/ongoing/myBlog/myBlogBackend/pages/blog.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useContext } from \"react\";\nimport dynamic from \"next/dynamic\";\nvar Card = dynamic(function () {\n  return import(\"../components/BlogPage/Card\");\n}, {\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"../components/BlogPage/Card\")];\n    },\n    modules: [\"../components/BlogPage/Card\"]\n  }\n});\nimport { SetActiveTabContext } from \"../context/ActiveTab\";\nimport { NextSeo } from \"next-seo\";\n\nvar Blog = function Blog(_ref) {\n  var linksData = _ref.linksData;\n  // Set active tab to blog page\n  var dispatchActiveTab = useContext(SetActiveTabContext);\n  dispatchActiveTab({\n    type: \"blog\"\n  });\n  return __jsx(React.Fragment, null, __jsx(NextSeo, {\n    title: \"Blog\",\n    canonical: \"https://melvingeorge.me/blog\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }\n  }), __jsx(\"main\", {\n    className: \"px-10 max-w-screen-lg mt-20 grid md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-4 \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }\n  }, linksData.length > 0 ? linksData.map(function (linkData) {\n    return __jsx(Card, _extends({\n      key: linkData.href\n    }, linkData, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 15\n      }\n    }));\n  }) : __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }, \"It's empty here\")));\n};\n\nexport var __N_SSG = true;\nexport default Blog;","map":{"version":3,"sources":["/Users/melvingeorge/PROJECTS/ongoing/myBlog/myBlogBackend/pages/blog.js"],"names":["useContext","dynamic","Card","SetActiveTabContext","NextSeo","Blog","linksData","dispatchActiveTab","type","length","map","linkData","href"],"mappings":";;;;;;;AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,IAAMC,IAAI,GAAGD,OAAO,CAAC;AAAA,SAAM,OAAO,6BAAP,CAAN;AAAA,CAAD;AAAA;AAAA;AAAA,kCAAc,6BAAd;AAAA;AAAA,cAAc,6BAAd;AAAA;AAAA,EAApB;AACA,SAASE,mBAAT,QAAoC,sBAApC;AACA,SAASC,OAAT,QAAwB,UAAxB;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,OAAmB;AAAA,MAAhBC,SAAgB,QAAhBA,SAAgB;AAC9B;AACA,MAAMC,iBAAiB,GAAGP,UAAU,CAACG,mBAAD,CAApC;AACAI,EAAAA,iBAAiB,CAAC;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAjB;AACA,SACE,4BAEE,MAAC,OAAD;AAAS,IAAA,KAAK,EAAE,MAAhB;AAAwB,IAAA,SAAS,EAAC,8BAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAKE;AACE,IAAA,SAAS,EAAC,gFADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGGF,SAAS,CAACG,MAAV,GAAmB,CAAnB,GAEGH,SAAS,CAACI,GAAV,CAAc,UAACC,QAAD;AAAA,WACZ,MAAC,IAAD;AAAM,MAAA,GAAG,EAAEA,QAAQ,CAACC;AAApB,OAA8BD,QAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADY;AAAA,GAAd,CAFH,GAOG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAVN,CALF,CADF;AAqBD,CAzBD;;;AAwEA,eAAeN,IAAf","sourcesContent":["import { useContext } from \"react\";\nimport dynamic from \"next/dynamic\";\nconst Card = dynamic(() => import(\"../components/BlogPage/Card\"));\nimport { SetActiveTabContext } from \"../context/ActiveTab\";\nimport { NextSeo } from \"next-seo\";\n\nconst Blog = ({ linksData }) => {\n  // Set active tab to blog page\n  const dispatchActiveTab = useContext(SetActiveTabContext);\n  dispatchActiveTab({ type: \"blog\" });\n  return (\n    <>\n      {/* SEO */}\n      <NextSeo title={\"Blog\"} canonical=\"https://melvingeorge.me/blog\" />\n\n      {/* Main content */}\n      <main\n        className=\"px-10 max-w-screen-lg mt-20 grid md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-4 \"\n      >\n        {linksData.length > 0\n          ? (\n            linksData.map((linkData) => (\n              <Card key={linkData.href} {...linkData} />\n            ))\n          )\n          : (\n            <p>It's empty here</p>\n          )}\n      </main>\n    </>\n  );\n};\n\nexport async function getStaticProps() {\n  const fs = require(\"fs\");\n  const path = require(\"path\");\n  const matter = require(\"gray-matter\");\n\n  const filesString = fs.readdirSync(path.join(\"content\", \"posts/\")).toString();\n  const linksArray = filesString.split(\",\");\n\n  const linksData = linksArray.map((link) => {\n    const post = fs\n      .readFileSync(path.join(\"content\", \"posts/\", link))\n      .toString();\n    const { data } = matter(post);\n\n    const title = data.title;\n    const href = link.replace(\".mdx\", \"\");\n    const description = data.description;\n    const date = data.date;\n\n    return {\n      title,\n      href,\n      description,\n      date,\n    };\n  });\n\n  // Sort using date added\n  linksData.sort((firstFile, secondFile) => {\n    return new Date(secondFile.date) - new Date(firstFile.date);\n  });\n\n  // Delete unnecessary date property\n  linksData.map((link) => {\n    delete link.date;\n    return link;\n  });\n\n  return {\n    props: {\n      linksData,\n    },\n  };\n}\n\nexport default Blog;\n"]},"metadata":{},"sourceType":"module"}