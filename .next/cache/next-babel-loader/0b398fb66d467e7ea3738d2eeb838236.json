{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useRef, useEffect } from \"react\";\nimport \"lazysizes\";\nimport dynamic from \"next/dynamic\";\nimport Markdown from \"markdown-to-jsx\";\n\nconst hljs = require(\"highlight.js/lib/core\");\n\nhljs.registerLanguage(\"javascript\", require(\"highlight.js/lib/languages/javascript\"));\nhljs.registerLanguage(\"bash\", require(\"highlight.js/lib/languages/bash\"));\nhljs.registerLanguage(\"json\", require(\"highlight.js/lib/languages/json\"));\nhljs.registerLanguage(\"css\", require(\"highlight.js/lib/languages/css\"));\nhljs.registerLanguage(\"html\", require(\"highlight.js/lib/languages/vbscript-html\"));\nconst ImageLoaderUtil = dynamic(() => import(\"../Utils/ImageLoaderUtil\"), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"../Utils/ImageLoaderUtil\")],\n    modules: [\"../Utils/ImageLoaderUtil\"]\n  }\n});\nexport function HighlightedMarkdown({\n  children,\n  metadata\n}) {\n  const rootRef = useRef();\n  useEffect(() => {\n    rootRef.current.querySelectorAll(\"pre code\").forEach(block => {\n      hljs.highlightBlock(block);\n    });\n  }, [children]);\n  return __jsx(\"div\", {\n    ref: rootRef,\n    className: \"blog\"\n  }, __jsx(Markdown, {\n    options: {\n      overrides: {\n        img: {\n          component: ({\n            alt: altText,\n            src: source\n          }) => {\n            const {\n              trace\n            } = require(`../../content/assets/${metadata.link}/${source}?trace`);\n\n            const src = require(`../../content/assets/${metadata.link}/${source}?webp`);\n\n            return __jsx(\"img\", {\n              alt: altText,\n              src: trace,\n              \"data-srcset\": src,\n              className: \"lazyload\",\n              \"data-sizes\": \"auto\"\n            });\n          }\n        }\n      }\n    }\n  }, children));\n}","map":null,"metadata":{},"sourceType":"module"}