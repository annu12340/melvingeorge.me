{"ast":null,"code":"var _jsxFileName = \"/Users/melvingeorge/PROJECTS/ongoing/myBlog/myBlogBackend/pages/blog.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { useContext } from \"react\";\nimport dynamic from \"next/dynamic\";\nconst Card = dynamic(() => import(\"../components/BlogPage/Card\"), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"../components/BlogPage/Card\")],\n    modules: [\"../components/BlogPage/Card\"]\n  }\n});\nimport { SetActiveTabContext } from \"../context/ActiveTab\";\nimport { NextSeo } from \"next-seo\";\n\nconst Blog = ({\n  linksData\n}) => {\n  // Set active tab to blog page\n  const dispatchActiveTab = useContext(SetActiveTabContext);\n  dispatchActiveTab({\n    type: \"blog\"\n  });\n  return __jsx(React.Fragment, null, __jsx(NextSeo, {\n    title: \"Blog\",\n    canonical: \"https://melvingeorge.me/blog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }\n  }), __jsx(\"main\", {\n    className: \" max-w-screen-lg mt-20 grid md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }\n  }, linksData.length > 0 ? linksData.map(linkData => __jsx(Card, _extends({\n    key: linkData.href\n  }, linkData, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 15\n    }\n  }))) : __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }, \"It's empty here\")));\n};\n\nexport async function getStaticProps() {\n  const fs = require(\"fs\");\n\n  const path = require(\"path\");\n\n  const matter = require(\"gray-matter\");\n\n  const filesString = fs.readdirSync(path.join(\"content\", \"posts/\")).toString();\n  const linksArray = filesString.split(\",\");\n  const linksData = linksArray.map(link => {\n    const post = fs.readFileSync(path.join(\"content\", \"posts/\", link)).toString();\n    const {\n      data\n    } = matter(post);\n    const title = data.title;\n    const href = link.replace(\".mdx\", \"\");\n    const description = data.description;\n    const date = data.date;\n    return {\n      title,\n      href,\n      description,\n      date\n    };\n  }); // Sort using date added\n\n  linksData.sort((firstFile, secondFile) => {\n    return new Date(secondFile.date) - new Date(firstFile.date);\n  }); // Delete unnecessary date property\n\n  linksData.map(link => {\n    delete link.date;\n    return link;\n  });\n  return {\n    props: {\n      linksData\n    }\n  };\n}\nexport default Blog;","map":{"version":3,"sources":["/Users/melvingeorge/PROJECTS/ongoing/myBlog/myBlogBackend/pages/blog.js"],"names":["useContext","dynamic","Card","SetActiveTabContext","NextSeo","Blog","linksData","dispatchActiveTab","type","length","map","linkData","href","getStaticProps","fs","require","path","matter","filesString","readdirSync","join","toString","linksArray","split","link","post","readFileSync","data","title","replace","description","date","sort","firstFile","secondFile","Date","props"],"mappings":"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","sourcesContent":["import { useContext } from \"react\";\nimport dynamic from \"next/dynamic\";\nconst Card = dynamic(() => import(\"../components/BlogPage/Card\"));\nimport { SetActiveTabContext } from \"../context/ActiveTab\";\nimport { NextSeo } from \"next-seo\";\n\nconst Blog = ({ linksData }) => {\n  // Set active tab to blog page\n  const dispatchActiveTab = useContext(SetActiveTabContext);\n  dispatchActiveTab({ type: \"blog\" });\n  return (\n    <>\n      {/* SEO */}\n      <NextSeo title={\"Blog\"} canonical=\"https://melvingeorge.me/blog\" />\n\n      {/* Main content */}\n      <main\n        className=\" max-w-screen-lg mt-20 grid md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-4 \"\n      >\n        {linksData.length > 0\n          ? (\n            linksData.map((linkData) => (\n              <Card key={linkData.href} {...linkData} />\n            ))\n          )\n          : (\n            <p>It's empty here</p>\n          )}\n      </main>\n    </>\n  );\n};\n\nexport async function getStaticProps() {\n  const fs = require(\"fs\");\n  const path = require(\"path\");\n  const matter = require(\"gray-matter\");\n\n  const filesString = fs.readdirSync(path.join(\"content\", \"posts/\")).toString();\n  const linksArray = filesString.split(\",\");\n\n  const linksData = linksArray.map((link) => {\n    const post = fs\n      .readFileSync(path.join(\"content\", \"posts/\", link))\n      .toString();\n    const { data } = matter(post);\n\n    const title = data.title;\n    const href = link.replace(\".mdx\", \"\");\n    const description = data.description;\n    const date = data.date;\n\n    return {\n      title,\n      href,\n      description,\n      date,\n    };\n  });\n\n  // Sort using date added\n  linksData.sort((firstFile, secondFile) => {\n    return new Date(secondFile.date) - new Date(firstFile.date);\n  });\n\n  // Delete unnecessary date property\n  linksData.map((link) => {\n    delete link.date;\n    return link;\n  });\n\n  return {\n    props: {\n      linksData,\n    },\n  };\n}\n\nexport default Blog;\n"]},"metadata":{},"sourceType":"module"}